ks_mod_listen_a_story_decision = {
	ai_check_interval = 0
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_recruitment.dds"
	}

	sort_order = 1
	decision_group_type = courtier

	is_shown = {
		is_landed_or_landless_administrative = yes
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
	}

	# TODO_CD_EP3: Fix cooldowns on options after code support is finished TIT-49117
	widget = {
		gui = "decision_view_widget_option_list_generic"
		controller = decision_option_list_controller
		decision_to_second_step_button = "CHOOSE_STORY_BUTTON"
		show_from_start = yes

		item = { # Huxian/Fox
			value = listen_story_fox_decision
			#is_shown = {
			#	is_ruler = yes
			#	is_landless_adventurer = no
			#}
			is_valid = {
				NOT = {
					custom_tooltip = {
						text = recruit_fox_cooldown_tt
						has_character_flag = recruit_huxian_cooldown
					}
				}
			}
			current_description = listen_story_fox_decision_desc
			localization = listen_story_fox_decision
			icon = "gfx/interface/icons/court_position_types/court_physician_court_position.dds"
			ai_chance = { value = 0 }
		} 
	}			

	effect = {
		custom_tooltip = ks_mod_listen_a_story_decision_desc
		hidden_effect = {
			custom_tooltip = ks_mod_listen_a_story_decision_tt
			if = { # Court Physician
				limit = { scope:listen_story_fox_decision = yes }
				#hidden_effect = {
				#	add_character_flag = {
				#		flag = health_3001_hire_physician_decision_text
				#		days = 20
				#	}
				#}
				add_character_flag = {
					flag = recruit_huxian_cooldown
					years = 1
				}
				trigger_event = {
					id = ks_mod_events.0001 
					days = { 1 2 }
				}
			}
		}
	}
	
	ai_potential = {
		always = no # Only players can do this. AI vassals go through the normal court events/hold court activity.
	}
}